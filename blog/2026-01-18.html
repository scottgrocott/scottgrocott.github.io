
<!DOCTYPE html>
<html lang="en">
    <head>
                <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-EBGF4V165P"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-EBGF4V165P');
</script>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
        <meta name="description" content="" />
        <meta name="author" content="" />
        <title>Deconstructing the Monolith Modular assets and JSON-driven scene assembly.</title>
        <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
        <!-- Font Awesome icons (free version)-->
        <script src="https://use.fontawesome.com/releases/v6.3.0/js/all.js" crossorigin="anonymous"></script>
        <!-- Google fonts-->
        <link href="https://fonts.googleapis.com/css?family=Lora:400,700,400italic,700italic" rel="stylesheet" type="text/css" />
        <link href="https://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800" rel="stylesheet" type="text/css" />
        <!-- Core theme CSS (includes Bootstrap)-->
        <link href="https://scottgrocott.github.io/themes/clean_blog/css/styles.css" rel="stylesheet" />
                      <!-- Custom CSS -->
        <link href="https://scottgrocott.github.io/css/custom.css" rel="stylesheet" />
    </head>
    <body>
        <!-- Navigation-->
        <nav class="navbar navbar-expand-lg navbar-light" id="mainNav">
            <div class="container px-4 px-lg-5">
                <a class="navbar-brand" href="https://scottgrocott.github.io/">Scott Grocott</a>
                <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarResponsive" aria-controls="navbarResponsive" aria-expanded="false" aria-label="Toggle navigation">
                    Menu
                    <i class="fas fa-bars"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarResponsive">
                    <ul class="navbar-nav ms-auto py-4 py-lg-0">
                        <li id="home_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/">Home</a></li>
                        <li id="blog_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/blog/">Blog</a></li>
                        <li id="metal_throne_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/metal_throne/">Metal Throne</a></li>
                        <li id="cray_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/164cray/">1:64 Cray!</a></li>
                        <li id="autopia_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/autopia/">Autopia:Mountain City</a></li>
                        <li id="cinema_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/cinema/">Cinema</a></li>
                        <li id="music_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/music/">Music</a></li>
                        <li id="buggywhip_nav" class="nav-item"><a class="nav-link px-lg-3 py-3 py-lg-4" href="https://scottgrocott.github.io/buggywhip/">BuggyWhip</a></li>
                    </ul>
                </div>
            </div>
        </nav>
    <!-- Page Header-->
        <header class="masthead" style="background-image: url('https://scottgrocott.github.io/metal_throne/assets/img/Screenshot 2026-01-14 175111.png')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <div class="post-heading">
                            <h1>Deconstructing the Monolith</h1>
                            <h2 class="subheading">Modular assets and JSON-driven scene assembly.</h2>
                            <span class="meta">
                                Posted by
                                <a href="#!">Scott Grocott</a>
                                on January 18, 2026                            </span>
                        </div>
                    </div>
                </div>
            </div>
        </header>
        
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        <p>Until now, the <em>Metal Throne</em> hub existed as a single, massive <code>.glb</code> file. While great for visualization, a monolithic model is a nightmare for gameplay. You can't easily animate a single tank, you can't calculate per-building collisions, and the browser has to render the whole thing at once. Today, I broke the monolith.</p>

                        <h2 class="section-heading">The 0,0,0 Workflow</h2>
                        <p>In Blender, I isolated every building, fuel tank, and green pathway. To make them modular, I moved each individual object to the world origin (0,0,0) before exporting. This ensures that when they are loaded into A-Frame, their "pivot point" is exactly where I expect it to be.</p>
                        
                        <p>To keep the alignment perfect, I kept the original "all-in-one" model in the A-Frame scene as a ghosted guide. I placed each modular piece directly over its counterpart in the guide, recording the exact <strong>Position, Rotation, and Scale</strong> coordinates.</p>

                        <h2 class="section-heading">The Scene Metadata (JSON)</h2>
                        <p>Rather than hard-coding dozens of <code>&lt;a-entity&gt;</code> tags into my HTML, I moved all that coordinate data into a structured JSON file. This allows me to swap models, update positions, or add animation metadata without ever touching the core scene code.</p>

<pre class="bg-dark text-light p-3 rounded"><code>{
  "assets": [
    {
      "item": "Silo_Alpha",
      "src": "./assets/silo_v1.glb",
      "pos": {"x": 12.5, "y": 0, "z": -45.2},
      "rot": {"x": 0, "y": 90, "z": 0},
      "scale": {"x": 1, "y": 1, "z": 1},
      "animation": "idle_smoke"
    }
  ]
}</code></pre>

                        <h2 class="section-heading">The Scene Builder Component</h2>
                        <p>To breathe life into this data, I wrote a custom A-Frame component called <code>scene-loader</code>. This script fetches the JSON file, iterates through the array, and dynamically creates the entities in the world. This is the foundation of our world-building engine.</p>

<pre class="bg-dark text-light p-3 rounded"><code>AFRAME.registerComponent('scene-loader', {
  schema: { url: { type: 'string' } },
  init: function () {
    fetch(this.data.url)
      .then(response => response.json())
      .then(data => {
        data.assets.forEach(obj => {
          let el = document.createElement('a-entity');
          el.setAttribute('gltf-model', obj.src);
          el.setAttribute('position', obj.pos);
          el.setAttribute('rotation', obj.rot);
          el.setAttribute('scale', obj.scale);
          this.el.appendChild(el);
        });
      });
  }
});</code></pre>

                        <blockquote class="blockquote">"By separating the data from the display, the Metal Throne is no longer just a modelâ€”it's a database-driven world."</blockquote>

                        <h2 class="section-heading">What this unlocks</h2>
                        <p>Now that every building is its own entity, the possibilities have exploded. I can now give each silo its own health bar, trigger individual destruction animations, or have AI drones patrol specific coordinates pulled from the metadata. </p>
                        
                        <p>The layout is now flexible. The world is now getting smarter.</p>

                        <p>
                            Technical breakdown by
                            <a href="https://scottgrocott.github.io/">Scott Grocott</a>
                            &middot; Tools used:
                            <a href="#!">Blender, JSON, A-Frame JS</a>
                        </p>
                    </div>
                </div>
            </div>
        </article>

<!-- Footer-->
        <footer class="border-top">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
   
                        <div class="small text-center text-muted fst-italic">Copyright &copy; Scott Grocott 2026</div>
                    </div>
                </div>
            </div>
        </footer>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="https://scottgrocott.github.io/themes/clean_blog/js/scripts.js"></script>
    </body>
</html>
